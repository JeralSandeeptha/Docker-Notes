# Docker Volumes
- A `Volume` is a Docker-managed directory on the host machine, used to persist data generated by and used by containers.
- If we run a container it includes some data. If we stop the container that data didn't exist anymore
- So how do we persist this data. The way is `Docker Volumes` (They way we can persist the data of a container lifeycle)
- We can share this volumes with other containers

![Image](https://res.cloudinary.com/djgwvmcdl/image/upload/v1751189945/5_d9om3g.png)

## Docker Volume Commands

```cmd
docker volume ls: List all volumes.
```
```cmd
docker volume create <volume_name>: Create a new volume.
```
```cmd
docker run -d -v my-volume:/app/data --name mycontainer busybox: Run a container with a volume attached.
```
```cmd
docker volume inspect <volume_name>: Display detailed information on one or more volumes.
```
```cmd
docker volume rm <volume_name>: Remove a volume.
```
```cmd
docker volume prune: Remove all unused volumes.
```

- There are 3 types of `Volumes`
 - Annonymous Volumes
 - Bind Volumes
 - Named Volumes

## Annonymous Volumes
- A volume that is created without a name. Docker gives it a random name. Used often in Dockerfiles
- Example
```cmd
VOLUME /data
```
- Example
```cmd
docker run -v /data busybox
```

## Bind Volumes
- Bind mounts map a host directory or file into a container. This is useful in development when you want to reflect changes immediately.
- Structure
```cmd
docker run -v /path/on/host:/path/in/container image
```
- Example
```cmd
docker run -v $(pwd)/app:/usr/src/app node
```

## Named Volumes
- Docker manages these volumes and stores them in a specific location (/var/lib/docker/volumes/). You just give them a name.
- Structure
```cmd
docker run -v volume_name:/path/in/container image
```
- Example
```cmd
docker volume create mydata
docker run -v mydata:/data busybox
```

| Type             | Host Path Required? | Named? | Persistence | Use Case                           |
| ---------------- | ------------------- | ------ | ----------- | ---------------------------------- |
| Bind Volume      | ✅ Yes               | ❌ No   | ✅ Yes       | Development, live file editing     |
| Named Volume     | ❌ No                | ✅ Yes  | ✅ Yes       | Production, backups, databases     |
| Anonymous Volume | ❌ No                | ❌ No   | ✅ Yes       | Temporary use, Dockerfile `VOLUME` |
